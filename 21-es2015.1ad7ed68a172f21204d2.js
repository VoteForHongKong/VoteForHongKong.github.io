(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{xCoS:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"GeoConstituencyPageModule",(function(){return geo_constituency_module_GeoConstituencyPageModule}));var common=__webpack_require__("ofXK"),fesm2015_forms=__webpack_require__("3Pt+"),ionic_angular=__webpack_require__("TEn/"),router=__webpack_require__("tyNb"),tslib_es6=__webpack_require__("mrSG"),core=__webpack_require__("fXoL"),voting_service=__webpack_require__("JnHU"),util_service=__webpack_require__("2Rin"),ngx_translate_core=__webpack_require__("sYmb"),header_component=__webpack_require__("2MiI"),vote_component=__webpack_require__("gY5R"),footer_component=__webpack_require__("LmEr");const routes=[{path:"",component:(()=>{class GeoConstituencyPage{constructor(nav,voting,util,trans){this.nav=nav,this.voting=voting,this.util=util,this.trans=trans,this.candidates=[],this.electeds=[],this.num=1}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const{manifest:manifest}=this.util.validation(this.nav,!1,!0),polling=this.voting.cachePollingGet();this.polling=polling.districts[0],this.candidates=this.voting.findCansByDis(this.polling.id,manifest.polling.candidates),console.log(this.candidates),0===this.candidates.length&&(this.util.notice("errors.manifest.candidatesless"),this.util.reset(this.nav))}))}ngAfterViewInit(){this.util.checkVotes(this.nav,0)}confirm(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){if(this.validate()){const voteSUP=this.voting.cacheVoteSUPGet();this.voting.packVotes(this.electeds,this.polling),this.nav.navigateRoot(this.voting.isFCY()?"functional-constituency":voteSUP?"super-seats":"gen-qrcode")}}))}validate(){return this.electeds.length===this.num}voteChange(){this.content.scrollToTop(500)}}return GeoConstituencyPage.ɵfac=function(t){return new(t||GeoConstituencyPage)(core.Jb(ionic_angular.x),core.Jb(voting_service.b),core.Jb(util_service.a),core.Jb(ngx_translate_core.d))},GeoConstituencyPage.ɵcmp=core.Db({type:GeoConstituencyPage,selectors:[["app-geo-constituency"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.qc(ionic_angular.i,!0),2&rf&&core.gc(_t=core.Vb())&&(ctx.content=_t.first)},decls:15,vars:12,consts:[[3,"title"],[1,"panel",3,"scrollEvents"],[1,"box","left"],[1,"corner"],[1,"box","right"],[1,"content","ion-text-center"],[1,"sub-title","bottom-line"],[3,"candidates","ngModel","num","ngModelChange","votesChange"],[3,"main","mainDisabled","mainClick"]],template:function(rf,ctx){1&rf&&(core.Kb(0,"app-header",0),core.Zb(1,"translate"),core.Mb(2,"ion-content",1),core.Mb(3,"div",2),core.Kb(4,"div",3),core.Lb(),core.Mb(5,"div",4),core.Kb(6,"div",3),core.Lb(),core.Kb(7,"br"),core.Mb(8,"ion-row"),core.Mb(9,"ion-col",5),core.Mb(10,"h3",6),core.mc(11),core.Lb(),core.Mb(12,"app-vote",7),core.Ub("ngModelChange",(function($event){return ctx.electeds=$event}))("votesChange",(function(){return ctx.voteChange()})),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Mb(13,"app-footer",8),core.Ub("mainClick",(function(){return ctx.confirm()})),core.Zb(14,"translate"),core.Lb()),2&rf&&(core.ec("title",core.ac(1,8,"geo.title")),core.zb(2),core.ec("scrollEvents",!0),core.zb(9),core.nc(ctx.polling[ctx.trans.currentLang]),core.zb(1),core.ec("candidates",ctx.candidates)("ngModel",ctx.electeds)("num",ctx.num),core.zb(1),core.ec("main",core.ac(14,10,"common.confirm"))("mainDisabled",ctx.electeds.length!==ctx.num))},directives:[header_component.a,ionic_angular.i,ionic_angular.p,ionic_angular.h,vote_component.a,fesm2015_forms.c,fesm2015_forms.d,footer_component.a],pipes:[ngx_translate_core.c],styles:[""]}),GeoConstituencyPage})()}];let geo_constituency_routing_module_GeoConstituencyPageRoutingModule=(()=>{class GeoConstituencyPageRoutingModule{}return GeoConstituencyPageRoutingModule.ɵmod=core.Hb({type:GeoConstituencyPageRoutingModule}),GeoConstituencyPageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||GeoConstituencyPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),GeoConstituencyPageRoutingModule})();var components_module=__webpack_require__("j1ZV");let geo_constituency_module_GeoConstituencyPageModule=(()=>{class GeoConstituencyPageModule{}return GeoConstituencyPageModule.ɵmod=core.Hb({type:GeoConstituencyPageModule}),GeoConstituencyPageModule.ɵinj=core.Gb({factory:function(t){return new(t||GeoConstituencyPageModule)},imports:[[common.b,fesm2015_forms.a,ionic_angular.u,ngx_translate_core.b,components_module.a,geo_constituency_routing_module_GeoConstituencyPageRoutingModule]]}),GeoConstituencyPageModule})()}}]);