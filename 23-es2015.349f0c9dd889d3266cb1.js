(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"90oJ":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PersonalInfoPageModule",(function(){return personal_info_module_PersonalInfoPageModule}));var common=__webpack_require__("ofXK"),fesm2015_forms=__webpack_require__("3Pt+"),ionic_angular=__webpack_require__("TEn/"),router=__webpack_require__("tyNb"),tslib_es6=__webpack_require__("mrSG"),core=__webpack_require__("fXoL"),voting_service=__webpack_require__("JnHU"),util_service=__webpack_require__("2Rin"),header_component=__webpack_require__("2MiI"),code_pins_component=__webpack_require__("qybP"),footer_component=__webpack_require__("LmEr"),ngx_translate_core=__webpack_require__("sYmb");const _c0=function(a0){return{field:a0}};function PersonalInfoPage_small_24_Template(rf,ctx){if(1&rf&&(core.Mb(0,"small",17),core.mc(1),core.Zb(2,"translate"),core.Zb(3,"translate"),core.Lb()),2&rf){const ctx_r0=core.Yb();core.zb(1),core.nc(core.bc(2,1,"errors."+ctx_r0.hkidErrMsg,core.fc(6,_c0,core.ac(3,4,ctx_r0.hkidErrField))))}}function PersonalInfoPage_small_25_Template(rf,ctx){1&rf&&(core.Mb(0,"small",17),core.mc(1," "),core.Lb())}function PersonalInfoPage_small_48_Template(rf,ctx){if(1&rf&&(core.Mb(0,"small",17),core.mc(1),core.Zb(2,"translate"),core.Zb(3,"translate"),core.Lb()),2&rf){const ctx_r2=core.Yb();core.zb(1),core.nc(core.bc(2,1,"errors."+ctx_r2.issueErrMsg,core.fc(6,_c0,core.ac(3,4,ctx_r2.issueErrField))))}}function PersonalInfoPage_small_49_Template(rf,ctx){1&rf&&(core.Mb(0,"small",17),core.mc(1," "),core.Lb())}function PersonalInfoPage_small_67_Template(rf,ctx){if(1&rf&&(core.Mb(0,"small",17),core.mc(1),core.Zb(2,"translate"),core.Zb(3,"translate"),core.Lb()),2&rf){const ctx_r4=core.Yb();core.zb(1),core.nc(core.bc(2,1,"errors."+ctx_r4.birthErrMsg,core.fc(6,_c0,core.ac(3,4,ctx_r4.birthErrField))))}}function PersonalInfoPage_small_68_Template(rf,ctx){1&rf&&(core.Mb(0,"small",17),core.mc(1," "),core.Lb())}const _c1=function(a0){return{warning:a0}},routes=[{path:"",component:(()=>{class PersonalInfoPage{constructor(nav,voting,util){this.nav=nav,this.voting=voting,this.util=util,this.hkidErrMsg="",this.hkidErrField="",this.issueErrMsg="",this.issueErrField="",this.birthErrMsg="",this.birthErrField="",this.hkid="    ",this.issue="      ",this.birth="  ",this.keyboard=!1}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.util.validation(this.nav),window.addEventListener("keyboardWillHide",()=>{this.keyboard=!1}),window.addEventListener("keyboardWillShow",()=>{this.keyboard=!0})}))}ngAfterViewInit(){this.util.checkVotes(this.nav,0)}back(){this.nav.pop()}confirm(){this.validate()&&(this.voting.cacheVoter(this.hkid,this.issue,this.birth),this.nav.navigateForward("geo-constituency"))}validate(){if(this.hkidErrMsg="",this.hkidErrField="",this.issueErrMsg="",this.issueErrField="",this.birthErrMsg="",this.birthErrField="",(this.hkid.length<4||this.hkid.includes(" "))&&(this.hkidErrMsg="complete",this.hkidErrField="personal.hkid.id.digit"),"0000"===this.hkid&&(this.hkidErrMsg="pattern",this.hkidErrField="personal.hkid.id.digit"),this.issue.length<6||this.issue.includes(" "))this.issueErrMsg="complete",this.issueErrField="personal.hkid.issue.title";else{const dd=Number(this.issue[0]+this.issue[1]),mm=Number(this.issue[2]+this.issue[3]),yy=Number(this.issue[4]+this.issue[5]);this.isValidDate(dd,mm,yy)||(this.issueErrMsg="pattern",this.issueErrField="personal.hkid.issue.title")}if(this.birth.length<2||this.birth.includes(" "))this.birthErrMsg="complete",this.birthErrField="personal.hkid.birth.title";else{const dd=Number(this.birth[0]+this.birth[1]);(dd<1||dd>31)&&(this.birthErrMsg="pattern",this.birthErrField="personal.hkid.birth.title")}return""===this.hkidErrMsg&&""===this.issueErrMsg&&""===this.birthErrMsg}isValidDate(dd,mm,yy){const yyyy=Number(yy)<=Number(20)?"20"+yy:"19"+yy;return(mm=parseInt(mm,10)-1)>=0&&mm<12&&dd>0&&dd<=this.daysInMonth(mm,yyyy)}daysInMonth(mm,yyyy){switch(mm){case 1:return yyyy%4==0&&yyyy%100||yyyy%400==0?29:28;case 8:case 3:case 5:case 10:return 30;default:return 31}}}return PersonalInfoPage.ɵfac=function(t){return new(t||PersonalInfoPage)(core.Jb(ionic_angular.x),core.Jb(voting_service.b),core.Jb(util_service.a))},PersonalInfoPage.ɵcmp=core.Db({type:PersonalInfoPage,selectors:[["app-personal-info"]],decls:75,vars:53,consts:[[3,"title"],[1,"panel"],[1,"box","left"],[1,"corner"],[1,"box","right"],[1,"block",3,"ngClass"],[1,"segment"],[1,"ion-text-center"],[1,"ion-no-margin"],[1,"ion-no-margin","sub-text"],[1,"highlight"],[1,"id-pins",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","codeChanged"],["class","warning-text",4,"ngIf"],[1,"sub-text"],[1,"id-issue",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","divide","codeChanged"],[1,"id-birth",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","codeChanged"],[3,"hidden","main","vice","mainClick","viceClick"],[1,"warning-text"]],template:function(rf,ctx){1&rf&&(core.Kb(0,"app-header",0),core.Zb(1,"translate"),core.Mb(2,"ion-content",1),core.Mb(3,"div",2),core.Kb(4,"div",3),core.Lb(),core.Mb(5,"div",4),core.Kb(6,"div",3),core.Lb(),core.Kb(7,"br"),core.Kb(8,"br"),core.Kb(9,"br"),core.Mb(10,"ion-row",5),core.Mb(11,"span",6),core.mc(12,"1"),core.Lb(),core.Mb(13,"ion-col",7),core.Mb(14,"p",8),core.Mb(15,"b"),core.mc(16),core.Zb(17,"translate"),core.Lb(),core.Lb(),core.Mb(18,"p",9),core.mc(19,"Z 6 8 "),core.Mb(20,"mark",10),core.mc(21,"3 3 6 5"),core.Lb(),core.mc(22," ( 5 )"),core.Lb(),core.Mb(23,"app-code-pins",11),core.Ub("codeChanged",(function($event){return ctx.hkid=$event})),core.Lb(),core.lc(24,PersonalInfoPage_small_24_Template,4,8,"small",12),core.lc(25,PersonalInfoPage_small_25_Template,2,0,"small",12),core.Lb(),core.Lb(),core.Kb(26,"br"),core.Mb(27,"ion-row",5),core.Mb(28,"span",6),core.mc(29,"2"),core.Lb(),core.Mb(30,"ion-col",7),core.Mb(31,"p",8),core.Mb(32,"b"),core.mc(33),core.Zb(34,"translate"),core.Lb(),core.Lb(),core.Mb(35,"p",9),core.Mb(36,"mark",10),core.mc(37,"2 6"),core.Lb(),core.mc(38," - "),core.Mb(39,"mark",10),core.mc(40,"1 1"),core.Lb(),core.mc(41," - "),core.Mb(42,"mark",10),core.mc(43,"1 8"),core.Lb(),core.Lb(),core.Mb(44,"small",13),core.mc(45),core.Zb(46,"translate"),core.Lb(),core.Mb(47,"app-code-pins",14),core.Ub("codeChanged",(function($event){return ctx.issue=$event})),core.Lb(),core.lc(48,PersonalInfoPage_small_48_Template,4,8,"small",12),core.lc(49,PersonalInfoPage_small_49_Template,2,0,"small",12),core.Lb(),core.Lb(),core.Kb(50,"br"),core.Mb(51,"ion-row",5),core.Mb(52,"span",6),core.mc(53,"3"),core.Lb(),core.Mb(54,"ion-col",7),core.Mb(55,"p",8),core.Mb(56,"b"),core.mc(57),core.Zb(58,"translate"),core.Lb(),core.Lb(),core.Mb(59,"p",9),core.Mb(60,"mark",10),core.mc(61,"0 3"),core.Lb(),core.mc(62," - 0 6 - 1 9 8 5"),core.Lb(),core.Mb(63,"small",13),core.mc(64),core.Zb(65,"translate"),core.Lb(),core.Mb(66,"app-code-pins",15),core.Ub("codeChanged",(function($event){return ctx.birth=$event})),core.Lb(),core.lc(67,PersonalInfoPage_small_67_Template,4,8,"small",12),core.lc(68,PersonalInfoPage_small_68_Template,2,0,"small",12),core.Lb(),core.Lb(),core.Kb(69,"br"),core.Kb(70,"br"),core.Kb(71,"br"),core.Lb(),core.Mb(72,"app-footer",16),core.Ub("mainClick",(function(){return ctx.confirm()}))("viceClick",(function(){return ctx.back()})),core.Zb(73,"translate"),core.Zb(74,"translate"),core.Lb()),2&rf&&(core.ec("title",core.ac(1,31,"personal.title")),core.zb(10),core.ec("ngClass",core.fc(47,_c1,ctx.hkidErrMsg)),core.zb(6),core.nc(core.ac(17,33,"personal.hkid.id.digit")),core.zb(7),core.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",4)("prefill"," "),core.zb(1),core.ec("ngIf",ctx.hkidErrMsg),core.zb(1),core.ec("ngIf",""===ctx.hkidErrMsg),core.zb(2),core.ec("ngClass",core.fc(49,_c1,ctx.issueErrMsg)),core.zb(6),core.nc(core.ac(34,35,"personal.hkid.issue.title")),core.zb(12),core.nc(core.ac(46,37,"personal.hkid.issue.format")),core.zb(2),core.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",6)("prefill"," ")("divide",2),core.zb(1),core.ec("ngIf",ctx.issueErrMsg),core.zb(1),core.ec("ngIf",""===ctx.issueErrMsg),core.zb(2),core.ec("ngClass",core.fc(51,_c1,ctx.birthErrMsg)),core.zb(6),core.nc(core.ac(58,39,"personal.hkid.birth.title")),core.zb(7),core.nc(core.ac(65,41,"personal.hkid.birth.format")),core.zb(2),core.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",2)("prefill"," "),core.zb(1),core.ec("ngIf",ctx.birthErrMsg),core.zb(1),core.ec("ngIf",""===ctx.birthErrMsg),core.zb(4),core.ec("hidden",ctx.keyboard)("main",core.ac(73,43,"common.confirm"))("vice",core.ac(74,45,"common.back")))},directives:[header_component.a,ionic_angular.i,ionic_angular.p,common.h,ionic_angular.h,code_pins_component.a,common.j,footer_component.a],pipes:[ngx_translate_core.c],styles:[".id-card-demo[_ngcontent-%COMP%]{max-width:320px;margin:auto}.id-pins[_ngcontent-%COMP%]{max-width:248px;--item-spacing:18px;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}.id-issue[_ngcontent-%COMP%], .id-pins[_ngcontent-%COMP%]{margin:24px auto auto;--item-height:2.5em}.id-issue[_ngcontent-%COMP%]{max-width:300px;--item-spacing:9px;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}.id-birth[_ngcontent-%COMP%]{max-width:185px;margin:24px auto auto;--item-spacing:32px;--item-height:2.5em;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}"]}),PersonalInfoPage})()}];let personal_info_routing_module_PersonalInfoPageRoutingModule=(()=>{class PersonalInfoPageRoutingModule{}return PersonalInfoPageRoutingModule.ɵmod=core.Hb({type:PersonalInfoPageRoutingModule}),PersonalInfoPageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||PersonalInfoPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),PersonalInfoPageRoutingModule})();var components_module=__webpack_require__("j1ZV");let personal_info_module_PersonalInfoPageModule=(()=>{class PersonalInfoPageModule{}return PersonalInfoPageModule.ɵmod=core.Hb({type:PersonalInfoPageModule}),PersonalInfoPageModule.ɵinj=core.Gb({factory:function(t){return new(t||PersonalInfoPageModule)},imports:[[common.b,fesm2015_forms.a,ionic_angular.u,ngx_translate_core.b,components_module.a,personal_info_routing_module_PersonalInfoPageRoutingModule]]}),PersonalInfoPageModule})()}}]);