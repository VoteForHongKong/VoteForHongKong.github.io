(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{NlUx:function(i,e,t){"use strict";t.r(e),t.d(e,"DeviceDigitsPageModule",(function(){return y}));var n=t("ofXK"),o=t("3Pt+"),s=t("TEn/"),r=t("tyNb"),c=t("mrSG"),d=t("fXoL"),a=t("JnHU"),b=t("2Rin"),l=t("S64H"),h=t("2MiI"),g=t("qybP"),v=t("LmEr"),m=t("sYmb");const u=function(i){return{field:i}};function f(i,e){if(1&i&&(d.Mb(0,"small",11),d.mc(1),d.Zb(2,"translate"),d.Zb(3,"translate"),d.Lb()),2&i){const i=d.Yb();d.zb(1),d.nc(d.bc(2,1,"errors."+i.codeErrMsg,d.fc(6,u,d.ac(3,4,i.codeErrField))))}}function p(i,e){1&i&&(d.Mb(0,"small",11),d.mc(1,"\xa0"),d.Lb())}const M=function(i){return{warning:i}},w=[{path:"",component:(()=>{class i{constructor(i,e,t,n){this.nav=i,this.voting=e,this.util=t,this.trans=n,this.codeErrMsg="",this.codeErrField="",this.code="    ",this.keyboard=!1}ngOnInit(){return Object(c.a)(this,void 0,void 0,(function*(){}))}ngAfterViewInit(){return Object(c.a)(this,void 0,void 0,(function*(){this.util.checkVotes(this.nav,0),yield this.trans.setLanguage("zh"),yield this.voting.verify();const{manifest:i}=this.util.validation(this.nav,!0);this.devices=i.devices,window.addEventListener("keyboardWillHide",()=>{this.keyboard=!1}),window.addEventListener("keyboardWillShow",()=>{this.keyboard=!0})}))}confirm(){const{manifest:i}=this.util.validation(this.nav,!0),e=i.devices.find(i=>String(i.id)===String(this.code));console.log(e),this.validate(e)&&(this.voting.cacheDevice(e),this.nav.navigateForward("station"))}back(){this.nav.pop()}validate(i){return this.codeErrMsg="",this.codeErrField="",this.code.length<4||this.code.includes(" ")?(this.codeErrMsg="complete",this.codeErrField="device-digits.station.code"):i?0===i.privileges.length&&(this.codeErrMsg="invalid",this.codeErrField="device-digits.station.code",this.util.notice("errors.manifest.privilegeless")):(this.codeErrMsg="invalid",this.codeErrField="device-digits.station.code",this.util.notice("errors.exist","station.station")),""===this.codeErrMsg}}return i.\u0275fac=function(e){return new(e||i)(d.Jb(s.x),d.Jb(a.b),d.Jb(b.a),d.Jb(l.a))},i.\u0275cmp=d.Db({type:i,selectors:[["app-device-digits"]],decls:23,vars:22,consts:[[3,"title"],[1,"panel"],[1,"box","left"],[1,"corner"],[1,"box","right"],[1,"block",3,"ngClass"],[1,"ion-text-center"],[1,"ion-no-margin"],[1,"station-pins",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","codeChanged"],["class","warning-text",4,"ngIf"],[3,"hidden","main","mainClick"],[1,"warning-text"]],template:function(i,e){1&i&&(d.Kb(0,"app-header",0),d.Zb(1,"translate"),d.Mb(2,"ion-content",1),d.Mb(3,"div",2),d.Kb(4,"div",3),d.Lb(),d.Mb(5,"div",4),d.Kb(6,"div",3),d.Lb(),d.Kb(7,"br"),d.Mb(8,"ion-row",5),d.Mb(9,"ion-col",6),d.Mb(10,"p",7),d.Mb(11,"b"),d.mc(12),d.Zb(13,"translate"),d.Lb(),d.Lb(),d.Kb(14,"br"),d.Mb(15,"app-code-pins",8),d.Ub("codeChanged",(function(i){return e.code=i})),d.Lb(),d.lc(16,f,4,8,"small",9),d.lc(17,p,2,0,"small",9),d.Lb(),d.Lb(),d.Mb(18,"p",6),d.mc(19),d.Zb(20,"translate"),d.Lb(),d.Lb(),d.Mb(21,"app-footer",10),d.Ub("mainClick",(function(){return e.confirm()})),d.Zb(22,"translate"),d.Lb()),2&i&&(d.ec("title",d.ac(1,12,"device-digits.title")),d.zb(8),d.ec("ngClass",d.fc(20,M,e.codeErrMsg)),d.zb(4),d.nc(d.ac(13,14,"device-digits.station.title")),d.zb(3),d.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",4)("prefill"," "),d.zb(1),d.ec("ngIf",e.codeErrMsg),d.zb(1),d.ec("ngIf",""===e.codeErrMsg),d.zb(2),d.nc(d.ac(20,16,"device-digits.content")),d.zb(2),d.ec("hidden",e.keyboard)("main",d.ac(22,18,"common.confirm")))},directives:[h.a,s.i,s.p,n.h,s.h,g.a,n.j,v.a],pipes:[m.c],styles:[".station-pins[_ngcontent-%COMP%]{--item-spacing:14px;--item-height:2.5em;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}"]}),i})()}];let E=(()=>{class i{}return i.\u0275mod=d.Hb({type:i}),i.\u0275inj=d.Gb({factory:function(e){return new(e||i)},imports:[[r.i.forChild(w)],r.i]}),i})();var L=t("j1ZV");let y=(()=>{class i{}return i.\u0275mod=d.Hb({type:i}),i.\u0275inj=d.Gb({factory:function(e){return new(e||i)},imports:[[n.b,o.a,s.u,m.b,L.a,E]]}),i})()}}]);