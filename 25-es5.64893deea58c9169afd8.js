function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function _createClass(i,e,t){return e&&_defineProperties(i.prototype,e),t&&_defineProperties(i,t),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"90oJ":function(i,e,t){"use strict";t.r(e),t.d(e,"PersonalInfoPageModule",(function(){return Z}));var n=t("ofXK"),r=t("3Pt+"),s=t("TEn/"),o=t("tyNb"),a=t("mrSG"),b=t("fXoL"),c=t("JnHU"),d=t("2Rin"),l=t("2MiI"),h=t("qybP"),u=t("LmEr"),m=t("sYmb"),g=function(i){return{field:i}};function f(i,e){if(1&i&&(b.Mb(0,"small",18),b.mc(1),b.Zb(2,"translate"),b.Zb(3,"translate"),b.Lb()),2&i){var t=b.Yb();b.zb(1),b.nc(b.bc(2,1,"errors."+t.hkidErrMsg,b.fc(6,g,b.ac(3,4,t.hkidErrField))))}}function p(i,e){1&i&&(b.Mb(0,"small",18),b.mc(1,"\xa0"),b.Lb())}function M(i,e){if(1&i&&(b.Mb(0,"small",18),b.mc(1),b.Zb(2,"translate"),b.Zb(3,"translate"),b.Lb()),2&i){var t=b.Yb();b.zb(1),b.nc(b.bc(2,1,"errors."+t.issueErrMsg,b.fc(6,g,b.ac(3,4,t.issueErrField))))}}function k(i,e){1&i&&(b.Mb(0,"small",18),b.mc(1,"\xa0"),b.Lb())}function v(i,e){if(1&i&&(b.Mb(0,"small",18),b.mc(1),b.Zb(2,"translate"),b.Zb(3,"translate"),b.Lb()),2&i){var t=b.Yb();b.zb(1),b.nc(b.bc(2,1,"errors."+t.birthErrMsg,b.fc(6,g,b.ac(3,4,t.birthErrField))))}}function L(i,e){1&i&&(b.Mb(0,"small",18),b.mc(1,"\xa0"),b.Lb())}var E,C,w,y=function(i){return{warning:i}},x=[{path:"",component:(E=function(){function i(e,t,n){_classCallCheck(this,i),this.nav=e,this.voting=t,this.util=n,this.hkidErrMsg="",this.hkidErrField="",this.issueErrMsg="",this.issueErrField="",this.birthErrMsg="",this.birthErrField="",this.hkid="    ",this.issue="      ",this.birth="  ",this.keyboard=!1}return _createClass(i,[{key:"ngOnInit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.util.validation(this.nav),window.addEventListener("keyboardWillHide",(function(){e.keyboard=!1})),window.addEventListener("keyboardWillShow",(function(){e.keyboard=!0}));case 1:case"end":return i.stop()}}),i,this)})))}},{key:"ngAfterViewInit",value:function(){this.util.checkVotes(this.nav,0)}},{key:"back",value:function(){this.nav.pop()}},{key:"confirm",value:function(){this.validate()&&(this.voting.cacheVoter(this.hkid,this.issue,this.birth),this.nav.navigateForward("voting-notice"))}},{key:"validate",value:function(){if(this.hkidErrMsg="",this.hkidErrField="",this.issueErrMsg="",this.issueErrField="",this.birthErrMsg="",this.birthErrField="",(this.hkid.length<4||this.hkid.includes(" "))&&(this.hkidErrMsg="complete",this.hkidErrField="personal.hkid.id.digit"),"0000"===this.hkid&&(this.hkidErrMsg="pattern",this.hkidErrField="personal.hkid.id.digit"),this.issue.length<6||this.issue.includes(" "))this.issueErrMsg="complete",this.issueErrField="personal.hkid.issue.title";else{var i=Number(this.issue[0]+this.issue[1]),e=Number(this.issue[2]+this.issue[3]),t=Number(this.issue[4]+this.issue[5]);this.isValidDate(i,e,t)||(this.issueErrMsg="pattern",this.issueErrField="personal.hkid.issue.title")}if(this.birth.length<2||this.birth.includes(" "))this.birthErrMsg="complete",this.birthErrField="personal.hkid.birth.title";else{var n=Number(this.birth[0]+this.birth[1]);(n<1||n>31)&&(this.birthErrMsg="pattern",this.birthErrField="personal.hkid.birth.title")}return""===this.hkidErrMsg&&""===this.issueErrMsg&&""===this.birthErrMsg}},{key:"isValidDate",value:function(i,e,t){var n=Number(t)<=Number(20)?"20"+t:"19"+t;return(e=parseInt(e,10)-1)>=0&&e<12&&i>0&&i<=this.daysInMonth(e,n)}},{key:"daysInMonth",value:function(i,e){switch(i){case 1:return e%4==0&&e%100||e%400==0?29:28;case 8:case 3:case 5:case 10:return 30;default:return 31}}}]),i}(),E.\u0275fac=function(i){return new(i||E)(b.Jb(s.y),b.Jb(c.b),b.Jb(d.a))},E.\u0275cmp=b.Db({type:E,selectors:[["app-personal-info"]],decls:78,vars:53,consts:[[3,"title"],[1,"panel"],[1,"box","left"],[1,"corner"],[1,"box","right"],[1,"ion-text-center"],["src","assets/imgs/id-card-demo.png",1,"id-card-demo"],[1,"block",3,"ngClass"],[1,"segment"],[1,"ion-no-margin"],[1,"ion-no-margin","sub-text"],[1,"highlight"],[1,"id-pins",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","codeChanged"],["class","warning-text",4,"ngIf"],[1,"sub-text"],[1,"id-issue",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","divide","codeChanged"],[1,"id-birth",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","codeChanged"],[3,"hidden","main","vice","mainClick","viceClick"],[1,"warning-text"]],template:function(i,e){1&i&&(b.Kb(0,"app-header",0),b.Zb(1,"translate"),b.Mb(2,"ion-content",1),b.Mb(3,"div",2),b.Kb(4,"div",3),b.Lb(),b.Mb(5,"div",4),b.Kb(6,"div",3),b.Lb(),b.Kb(7,"br"),b.Mb(8,"ion-row"),b.Mb(9,"ion-col",5),b.Kb(10,"ion-img",6),b.Lb(),b.Lb(),b.Kb(11,"br"),b.Kb(12,"br"),b.Mb(13,"ion-row",7),b.Mb(14,"span",8),b.mc(15,"1"),b.Lb(),b.Mb(16,"ion-col",5),b.Mb(17,"p",9),b.Mb(18,"b"),b.mc(19),b.Zb(20,"translate"),b.Lb(),b.Lb(),b.Mb(21,"p",10),b.mc(22,"Z\xa06\xa08\xa0"),b.Mb(23,"mark",11),b.mc(24,"3\xa03\xa06\xa05"),b.Lb(),b.mc(25,"\xa0(\xa05\xa0)"),b.Lb(),b.Mb(26,"app-code-pins",12),b.Ub("codeChanged",(function(i){return e.hkid=i})),b.Lb(),b.lc(27,f,4,8,"small",13),b.lc(28,p,2,0,"small",13),b.Lb(),b.Lb(),b.Kb(29,"br"),b.Mb(30,"ion-row",7),b.Mb(31,"span",8),b.mc(32,"2"),b.Lb(),b.Mb(33,"ion-col",5),b.Mb(34,"p",9),b.Mb(35,"b"),b.mc(36),b.Zb(37,"translate"),b.Lb(),b.Lb(),b.Mb(38,"p",10),b.Mb(39,"mark",11),b.mc(40,"2\xa06"),b.Lb(),b.mc(41,"\xa0-\xa0"),b.Mb(42,"mark",11),b.mc(43,"1\xa01"),b.Lb(),b.mc(44,"\xa0-\xa0"),b.Mb(45,"mark",11),b.mc(46,"1\xa08"),b.Lb(),b.Lb(),b.Mb(47,"small",14),b.mc(48),b.Zb(49,"translate"),b.Lb(),b.Mb(50,"app-code-pins",15),b.Ub("codeChanged",(function(i){return e.issue=i})),b.Lb(),b.lc(51,M,4,8,"small",13),b.lc(52,k,2,0,"small",13),b.Lb(),b.Lb(),b.Kb(53,"br"),b.Mb(54,"ion-row",7),b.Mb(55,"span",8),b.mc(56,"3"),b.Lb(),b.Mb(57,"ion-col",5),b.Mb(58,"p",9),b.Mb(59,"b"),b.mc(60),b.Zb(61,"translate"),b.Lb(),b.Lb(),b.Mb(62,"p",10),b.Mb(63,"mark",11),b.mc(64,"0\xa03"),b.Lb(),b.mc(65,"\xa0-\xa00\xa06\xa0-\xa01\xa09\xa08\xa05"),b.Lb(),b.Mb(66,"small",14),b.mc(67),b.Zb(68,"translate"),b.Lb(),b.Mb(69,"app-code-pins",16),b.Ub("codeChanged",(function(i){return e.birth=i})),b.Lb(),b.lc(70,v,4,8,"small",13),b.lc(71,L,2,0,"small",13),b.Lb(),b.Lb(),b.Kb(72,"br"),b.Kb(73,"br"),b.Kb(74,"br"),b.Lb(),b.Mb(75,"app-footer",17),b.Ub("mainClick",(function(){return e.confirm()}))("viceClick",(function(){return e.back()})),b.Zb(76,"translate"),b.Zb(77,"translate"),b.Lb()),2&i&&(b.ec("title",b.ac(1,31,"personal.title")),b.zb(13),b.ec("ngClass",b.fc(47,y,e.hkidErrMsg)),b.zb(6),b.nc(b.ac(20,33,"personal.hkid.id.digit")),b.zb(7),b.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",4)("prefill"," "),b.zb(1),b.ec("ngIf",e.hkidErrMsg),b.zb(1),b.ec("ngIf",""===e.hkidErrMsg),b.zb(2),b.ec("ngClass",b.fc(49,y,e.issueErrMsg)),b.zb(6),b.nc(b.ac(37,35,"personal.hkid.issue.title")),b.zb(12),b.nc(b.ac(49,37,"personal.hkid.issue.format")),b.zb(2),b.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",6)("prefill"," ")("divide",2),b.zb(1),b.ec("ngIf",e.issueErrMsg),b.zb(1),b.ec("ngIf",""===e.issueErrMsg),b.zb(2),b.ec("ngClass",b.fc(51,y,e.birthErrMsg)),b.zb(6),b.nc(b.ac(61,39,"personal.hkid.birth.title")),b.zb(7),b.nc(b.ac(68,41,"personal.hkid.birth.format")),b.zb(2),b.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",2)("prefill"," "),b.zb(1),b.ec("ngIf",e.birthErrMsg),b.zb(1),b.ec("ngIf",""===e.birthErrMsg),b.zb(4),b.ec("hidden",e.keyboard)("main",b.ac(76,43,"common.confirm"))("vice",b.ac(77,45,"common.back")))},directives:[l.a,s.i,s.q,s.h,s.m,n.h,h.a,n.j,u.a],pipes:[m.c],styles:[".id-card-demo[_ngcontent-%COMP%]{max-width:320px;margin:auto}.id-pins[_ngcontent-%COMP%]{max-width:248px;--item-spacing:18px;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}.id-issue[_ngcontent-%COMP%], .id-pins[_ngcontent-%COMP%]{margin:24px auto auto;--item-height:2.5em}.id-issue[_ngcontent-%COMP%]{max-width:300px;--item-spacing:9px;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}.id-birth[_ngcontent-%COMP%]{max-width:185px;margin:24px auto auto;--item-spacing:32px;--item-height:2.5em;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}"]}),E)}],z=((C=function i(){_classCallCheck(this,i)}).\u0275mod=b.Hb({type:C}),C.\u0275inj=b.Gb({factory:function(i){return new(i||C)},imports:[[o.i.forChild(x)],o.i]}),C),F=t("j1ZV"),Z=((w=function i(){_classCallCheck(this,i)}).\u0275mod=b.Hb({type:w}),w.\u0275inj=b.Gb({factory:function(i){return new(i||w)},imports:[[n.b,r.a,s.v,m.b,F.a,z]]}),w)}}]);