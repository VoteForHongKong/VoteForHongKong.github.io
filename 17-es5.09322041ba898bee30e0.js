function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{NlUx:function(e,t,i){"use strict";i.r(t),i.d(t,"DeviceDigitsPageModule",(function(){return x}));var n=i("ofXK"),r=i("3Pt+"),o=i("TEn/"),s=i("tyNb"),c=i("mrSG"),a=i("fXoL"),d=i("JnHU"),l=i("2Rin"),b=i("S64H"),u=i("2MiI"),h=i("qybP"),f=i("LmEr"),g=i("sYmb"),v=function(e){return{field:e}};function m(e,t){if(1&e&&(a.Mb(0,"small",11),a.mc(1),a.Zb(2,"translate"),a.Zb(3,"translate"),a.Lb()),2&e){var i=a.Yb();a.zb(1),a.nc(a.bc(2,1,"errors."+i.codeErrMsg,a.fc(6,v,a.ac(3,4,i.codeErrField))))}}function p(e,t){1&e&&(a.Mb(0,"small",11),a.mc(1,"\xa0"),a.Lb())}var w,k,y,M=function(e){return{warning:e}},C=[{path:"",component:(w=function(){function e(t,i,n,r){_classCallCheck(this,e),this.nav=t,this.voting=i,this.util=n,this.trans=r,this.codeErrMsg="",this.codeErrField="",this.code="    ",this.keyboard=!1}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"ngAfterViewInit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.util.checkVotes(this.nav,0),e.next=3,this.trans.setLanguage("zh");case 3:return e.next=5,this.voting.verify();case 5:t=this.util.validation(this.nav,!0),i=t.manifest,this.devices=i.devices,window.addEventListener("keyboardWillHide",(function(){n.keyboard=!1})),window.addEventListener("keyboardWillShow",(function(){n.keyboard=!0}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"confirm",value:function(){var e=this,t=this.util.validation(this.nav,!0).manifest.devices.find((function(t){return String(t.id)===String(e.code)}));console.log(t),this.validate(t)&&(this.voting.cacheDevice(t),this.nav.navigateForward("station"))}},{key:"back",value:function(){this.nav.pop()}},{key:"validate",value:function(e){return this.codeErrMsg="",this.codeErrField="",this.code.length<4||this.code.includes(" ")?(this.codeErrMsg="complete",this.codeErrField="device-digits.station.code"):e?0===e.privileges.length&&(this.codeErrMsg="invalid",this.codeErrField="device-digits.station.code",this.util.notice("errors.manifest.privilegeless")):(this.codeErrMsg="invalid",this.codeErrField="device-digits.station.code",this.util.notice("errors.exist","station.station")),""===this.codeErrMsg}}]),e}(),w.\u0275fac=function(e){return new(e||w)(a.Jb(o.x),a.Jb(d.b),a.Jb(l.a),a.Jb(b.a))},w.\u0275cmp=a.Db({type:w,selectors:[["app-device-digits"]],decls:23,vars:22,consts:[[3,"title"],[1,"panel"],[1,"box","left"],[1,"corner"],[1,"box","right"],[1,"block",3,"ngClass"],[1,"ion-text-center"],[1,"ion-no-margin"],[1,"station-pins",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","codeChanged"],["class","warning-text",4,"ngIf"],[3,"hidden","main","mainClick"],[1,"warning-text"]],template:function(e,t){1&e&&(a.Kb(0,"app-header",0),a.Zb(1,"translate"),a.Mb(2,"ion-content",1),a.Mb(3,"div",2),a.Kb(4,"div",3),a.Lb(),a.Mb(5,"div",4),a.Kb(6,"div",3),a.Lb(),a.Kb(7,"br"),a.Mb(8,"ion-row",5),a.Mb(9,"ion-col",6),a.Mb(10,"p",7),a.Mb(11,"b"),a.mc(12),a.Zb(13,"translate"),a.Lb(),a.Lb(),a.Kb(14,"br"),a.Mb(15,"app-code-pins",8),a.Ub("codeChanged",(function(e){return t.code=e})),a.Lb(),a.lc(16,m,4,8,"small",9),a.lc(17,p,2,0,"small",9),a.Lb(),a.Lb(),a.Mb(18,"p",6),a.mc(19),a.Zb(20,"translate"),a.Lb(),a.Lb(),a.Mb(21,"app-footer",10),a.Ub("mainClick",(function(){return t.confirm()})),a.Zb(22,"translate"),a.Lb()),2&e&&(a.ec("title",a.ac(1,12,"device-digits.title")),a.zb(8),a.ec("ngClass",a.fc(20,M,t.codeErrMsg)),a.zb(4),a.nc(a.ac(13,14,"device-digits.station.title")),a.zb(3),a.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",4)("prefill"," "),a.zb(1),a.ec("ngIf",t.codeErrMsg),a.zb(1),a.ec("ngIf",""===t.codeErrMsg),a.zb(2),a.nc(a.ac(20,16,"device-digits.content")),a.zb(2),a.ec("hidden",t.keyboard)("main",a.ac(22,18,"common.confirm")))},directives:[u.a,o.i,o.p,n.h,o.h,h.a,n.j,f.a],pipes:[g.c],styles:[".station-pins[_ngcontent-%COMP%]{--item-spacing:14px;--item-height:2.5em;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}"]}),w)}],E=((k=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:k}),k.\u0275inj=a.Gb({factory:function(e){return new(e||k)},imports:[[s.i.forChild(C)],s.i]}),k),L=i("j1ZV"),x=((y=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:y}),y.\u0275inj=a.Gb({factory:function(e){return new(e||y)},imports:[[n.b,r.a,o.u,g.b,L.a,E]]}),y)}}]);