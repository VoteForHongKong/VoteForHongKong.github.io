(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"90oJ":function(i,e,t){"use strict";t.r(e),t.d(e,"PersonalInfoPageModule",(function(){return x}));var s=t("ofXK"),n=t("3Pt+"),r=t("TEn/"),o=t("tyNb"),b=t("mrSG"),a=t("fXoL"),c=t("JnHU"),d=t("2Rin"),h=t("2MiI"),l=t("qybP"),m=t("LmEr"),u=t("sYmb");const g=function(i){return{field:i}};function p(i,e){if(1&i&&(a.Mb(0,"small",18),a.mc(1),a.Zb(2,"translate"),a.Zb(3,"translate"),a.Lb()),2&i){const i=a.Yb();a.zb(1),a.nc(a.bc(2,1,"errors."+i.hkidErrMsg,a.fc(6,g,a.ac(3,4,i.hkidErrField))))}}function M(i,e){1&i&&(a.Mb(0,"small",18),a.mc(1,"\xa0"),a.Lb())}function f(i,e){if(1&i&&(a.Mb(0,"small",18),a.mc(1),a.Zb(2,"translate"),a.Zb(3,"translate"),a.Lb()),2&i){const i=a.Yb();a.zb(1),a.nc(a.bc(2,1,"errors."+i.issueErrMsg,a.fc(6,g,a.ac(3,4,i.issueErrField))))}}function k(i,e){1&i&&(a.Mb(0,"small",18),a.mc(1,"\xa0"),a.Lb())}function L(i,e){if(1&i&&(a.Mb(0,"small",18),a.mc(1),a.Zb(2,"translate"),a.Zb(3,"translate"),a.Lb()),2&i){const i=a.Yb();a.zb(1),a.nc(a.bc(2,1,"errors."+i.birthErrMsg,a.fc(6,g,a.ac(3,4,i.birthErrField))))}}function E(i,e){1&i&&(a.Mb(0,"small",18),a.mc(1,"\xa0"),a.Lb())}const v=function(i){return{warning:i}},C=[{path:"",component:(()=>{class i{constructor(i,e,t){this.nav=i,this.voting=e,this.util=t,this.hkidErrMsg="",this.hkidErrField="",this.issueErrMsg="",this.issueErrField="",this.birthErrMsg="",this.birthErrField="",this.hkid="    ",this.issue="      ",this.birth="  ",this.keyboard=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this.util.validation(this.nav),window.addEventListener("keyboardWillHide",()=>{this.keyboard=!1}),window.addEventListener("keyboardWillShow",()=>{this.keyboard=!0})}))}ngAfterViewInit(){this.util.checkVotes(this.nav,0)}back(){this.nav.pop()}confirm(){this.validate()&&(this.voting.cacheVoter(this.hkid,this.issue,this.birth),this.nav.navigateForward("voting-notice"))}validate(){if(this.hkidErrMsg="",this.hkidErrField="",this.issueErrMsg="",this.issueErrField="",this.birthErrMsg="",this.birthErrField="",(this.hkid.length<4||this.hkid.includes(" "))&&(this.hkidErrMsg="complete",this.hkidErrField="personal.hkid.id.digit"),"0000"===this.hkid&&(this.hkidErrMsg="pattern",this.hkidErrField="personal.hkid.id.digit"),this.issue.length<6||this.issue.includes(" "))this.issueErrMsg="complete",this.issueErrField="personal.hkid.issue.title";else{const i=Number(this.issue[0]+this.issue[1]),e=Number(this.issue[2]+this.issue[3]),t=Number(this.issue[4]+this.issue[5]);this.isValidDate(i,e,t)||(this.issueErrMsg="pattern",this.issueErrField="personal.hkid.issue.title")}if(this.birth.length<2||this.birth.includes(" "))this.birthErrMsg="complete",this.birthErrField="personal.hkid.birth.title";else{const i=Number(this.birth[0]+this.birth[1]);(i<1||i>31)&&(this.birthErrMsg="pattern",this.birthErrField="personal.hkid.birth.title")}return""===this.hkidErrMsg&&""===this.issueErrMsg&&""===this.birthErrMsg}isValidDate(i,e,t){const s=Number(t)<=Number(20)?"20"+t:"19"+t;return(e=parseInt(e,10)-1)>=0&&e<12&&i>0&&i<=this.daysInMonth(e,s)}daysInMonth(i,e){switch(i){case 1:return e%4==0&&e%100||e%400==0?29:28;case 8:case 3:case 5:case 10:return 30;default:return 31}}}return i.\u0275fac=function(e){return new(e||i)(a.Jb(r.y),a.Jb(c.b),a.Jb(d.a))},i.\u0275cmp=a.Db({type:i,selectors:[["app-personal-info"]],decls:78,vars:53,consts:[[3,"title"],[1,"panel"],[1,"box","left"],[1,"corner"],[1,"box","right"],[1,"ion-text-center"],["src","assets/imgs/id-card-demo.png",1,"id-card-demo"],[1,"block",3,"ngClass"],[1,"segment"],[1,"ion-no-margin"],[1,"ion-no-margin","sub-text"],[1,"highlight"],[1,"id-pins",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","codeChanged"],["class","warning-text",4,"ngIf"],[1,"sub-text"],[1,"id-issue",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","divide","codeChanged"],[1,"id-birth",3,"isCodeHidden","isNonDigitsCode","codeLength","prefill","codeChanged"],[3,"hidden","main","vice","mainClick","viceClick"],[1,"warning-text"]],template:function(i,e){1&i&&(a.Kb(0,"app-header",0),a.Zb(1,"translate"),a.Mb(2,"ion-content",1),a.Mb(3,"div",2),a.Kb(4,"div",3),a.Lb(),a.Mb(5,"div",4),a.Kb(6,"div",3),a.Lb(),a.Kb(7,"br"),a.Mb(8,"ion-row"),a.Mb(9,"ion-col",5),a.Kb(10,"ion-img",6),a.Lb(),a.Lb(),a.Kb(11,"br"),a.Kb(12,"br"),a.Mb(13,"ion-row",7),a.Mb(14,"span",8),a.mc(15,"1"),a.Lb(),a.Mb(16,"ion-col",5),a.Mb(17,"p",9),a.Mb(18,"b"),a.mc(19),a.Zb(20,"translate"),a.Lb(),a.Lb(),a.Mb(21,"p",10),a.mc(22,"Z\xa06\xa08\xa0"),a.Mb(23,"mark",11),a.mc(24,"3\xa03\xa06\xa05"),a.Lb(),a.mc(25,"\xa0(\xa05\xa0)"),a.Lb(),a.Mb(26,"app-code-pins",12),a.Ub("codeChanged",(function(i){return e.hkid=i})),a.Lb(),a.lc(27,p,4,8,"small",13),a.lc(28,M,2,0,"small",13),a.Lb(),a.Lb(),a.Kb(29,"br"),a.Mb(30,"ion-row",7),a.Mb(31,"span",8),a.mc(32,"2"),a.Lb(),a.Mb(33,"ion-col",5),a.Mb(34,"p",9),a.Mb(35,"b"),a.mc(36),a.Zb(37,"translate"),a.Lb(),a.Lb(),a.Mb(38,"p",10),a.Mb(39,"mark",11),a.mc(40,"2\xa06"),a.Lb(),a.mc(41,"\xa0-\xa0"),a.Mb(42,"mark",11),a.mc(43,"1\xa01"),a.Lb(),a.mc(44,"\xa0-\xa0"),a.Mb(45,"mark",11),a.mc(46,"1\xa08"),a.Lb(),a.Lb(),a.Mb(47,"small",14),a.mc(48),a.Zb(49,"translate"),a.Lb(),a.Mb(50,"app-code-pins",15),a.Ub("codeChanged",(function(i){return e.issue=i})),a.Lb(),a.lc(51,f,4,8,"small",13),a.lc(52,k,2,0,"small",13),a.Lb(),a.Lb(),a.Kb(53,"br"),a.Mb(54,"ion-row",7),a.Mb(55,"span",8),a.mc(56,"3"),a.Lb(),a.Mb(57,"ion-col",5),a.Mb(58,"p",9),a.Mb(59,"b"),a.mc(60),a.Zb(61,"translate"),a.Lb(),a.Lb(),a.Mb(62,"p",10),a.Mb(63,"mark",11),a.mc(64,"0\xa03"),a.Lb(),a.mc(65,"\xa0-\xa00\xa06\xa0-\xa01\xa09\xa08\xa05"),a.Lb(),a.Mb(66,"small",14),a.mc(67),a.Zb(68,"translate"),a.Lb(),a.Mb(69,"app-code-pins",16),a.Ub("codeChanged",(function(i){return e.birth=i})),a.Lb(),a.lc(70,L,4,8,"small",13),a.lc(71,E,2,0,"small",13),a.Lb(),a.Lb(),a.Kb(72,"br"),a.Kb(73,"br"),a.Kb(74,"br"),a.Lb(),a.Mb(75,"app-footer",17),a.Ub("mainClick",(function(){return e.confirm()}))("viceClick",(function(){return e.back()})),a.Zb(76,"translate"),a.Zb(77,"translate"),a.Lb()),2&i&&(a.ec("title",a.ac(1,31,"personal.title")),a.zb(13),a.ec("ngClass",a.fc(47,v,e.hkidErrMsg)),a.zb(6),a.nc(a.ac(20,33,"personal.hkid.id.digit")),a.zb(7),a.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",4)("prefill"," "),a.zb(1),a.ec("ngIf",e.hkidErrMsg),a.zb(1),a.ec("ngIf",""===e.hkidErrMsg),a.zb(2),a.ec("ngClass",a.fc(49,v,e.issueErrMsg)),a.zb(6),a.nc(a.ac(37,35,"personal.hkid.issue.title")),a.zb(12),a.nc(a.ac(49,37,"personal.hkid.issue.format")),a.zb(2),a.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",6)("prefill"," ")("divide",2),a.zb(1),a.ec("ngIf",e.issueErrMsg),a.zb(1),a.ec("ngIf",""===e.issueErrMsg),a.zb(2),a.ec("ngClass",a.fc(51,v,e.birthErrMsg)),a.zb(6),a.nc(a.ac(61,39,"personal.hkid.birth.title")),a.zb(7),a.nc(a.ac(68,41,"personal.hkid.birth.format")),a.zb(2),a.ec("isCodeHidden",!1)("isNonDigitsCode",!1)("codeLength",2)("prefill"," "),a.zb(1),a.ec("ngIf",e.birthErrMsg),a.zb(1),a.ec("ngIf",""===e.birthErrMsg),a.zb(4),a.ec("hidden",e.keyboard)("main",a.ac(76,43,"common.confirm"))("vice",a.ac(77,45,"common.back")))},directives:[h.a,r.i,r.q,r.h,r.m,s.h,l.a,s.j,m.a],pipes:[u.c],styles:[".id-card-demo[_ngcontent-%COMP%]{max-width:320px;margin:auto}.id-pins[_ngcontent-%COMP%]{max-width:248px;--item-spacing:18px;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}.id-issue[_ngcontent-%COMP%], .id-pins[_ngcontent-%COMP%]{margin:24px auto auto;--item-height:2.5em}.id-issue[_ngcontent-%COMP%]{max-width:300px;--item-spacing:9px;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}.id-birth[_ngcontent-%COMP%]{max-width:185px;margin:24px auto auto;--item-spacing:32px;--item-height:2.5em;--item-font-size:20px;--item-background:var(--ion-color-btn-gray);--item-border:none;--item-border-bottom:none;--item-border-has-value:none;--item-border-bottom-has-value:none;--item-border-focused:none;--item-border-bottom-focused:none;--item-shadow-focused:none}"]}),i})()}];let w=(()=>{class i{}return i.\u0275mod=a.Hb({type:i}),i.\u0275inj=a.Gb({factory:function(e){return new(e||i)},imports:[[o.i.forChild(C)],o.i]}),i})();var z=t("j1ZV");let x=(()=>{class i{}return i.\u0275mod=a.Hb({type:i}),i.\u0275inj=a.Gb({factory:function(e){return new(e||i)},imports:[[s.b,n.a,r.v,u.b,z.a,w]]}),i})()}}]);